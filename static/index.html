<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>File List</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
    <div class="container mx-auto p-4">
        <h1 class="text-2xl font-bold mb-4">File List</h1>
        <ul id="file-list" class="bg-white shadow-md rounded-lg p-4">
            <!-- File items will be injected here by JavaScript -->
        </ul>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const fileList = document.getElementById('file-list');

            if (window.filesData && Array.isArray(window.filesData)) {
                window.filesData.forEach(file => {
                    const listItem = document.createElement('li');
                    listItem.className = "flex items-center justify-between p-2 border-b border-gray-200";

                    const fileName = document.createElement('span');
                    fileName.textContent = file.name;
                    listItem.appendChild(fileName);

                    const downloadButton = document.createElement('a');
                    downloadButton.href = `/?download=${encodeURIComponent(file.name)}`;
                    downloadButton.textContent = "Download";
                    downloadButton.className = "bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600";
                    listItem.appendChild(downloadButton);

                    fileList.appendChild(listItem);
                });
            } else {
                fileList.innerHTML = '<li class="p-2">No files found.</li>';
            }
        });
    </script>
</body>
</html>
